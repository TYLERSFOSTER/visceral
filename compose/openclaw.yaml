services:
  openclaw:
    image: ghcr.io/openclaw/openclaw:latest
    container_name: openclaw
    restart: unless-stopped

    network_mode: host

    volumes:
      - ../data/openclaw_home:/home/node/.openclaw   # <-- REQUIRED (persist config)
      - ../data/openclaw:/var/lib/openclaw
      - ../data/runs:/runs

    environment:
      - NODE_ENV=production
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENCLAW_GATEWAY_TOKEN=${OPENCLAW_GATEWAY_TOKEN}

    command: ["node","openclaw.mjs","gateway","run","--port","18789","--verbose"]
